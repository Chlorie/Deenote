[B]-Bug Fix
[C]-Change
[N]-New
[?]-To be determined
[ ]-TODO

# Project

- [ ] Tools菜单：导出为dsproj
- [ ] 谱面复制
  - ProjectProperties页，添加Copy按钮，按下时，更改为Cancel，其他谱面的该按钮更改为Paste。

# Stage

- [B] 修复了按空格播放到音乐结束后松开，再次播放时音乐会从头开始的Bug
- [ ] 参考Deemo 3.x调整Perspective View
- [ ] 支持DEEMO II
  - [ ] Flick与Hold的兼容情况未知，目前选择hold强制置0
  - [ ] Speed设置方式未知，待定
  - [ ] 引入PseudoTime，表示换算为Speed=1时同一个位置的Note的Time，基于PseudoTime计算位置
    - TimeToPseudoTime(offsetTime, speed) => offsetTime * speed;
  - [ ] Note选择时，对于线下Note，基于Time进行选择；对于未出现Note，基于其刚出现时的PseudoTime选择
    - 设置保证在Note出现时选中的Note在Note消失后依然被选中。
  - [ ] 待定Hold算法
    1 单独设置一个List<>用于存放Hold，更新场景时遍历寻找Hold
    2 ChartModel.Notes: List<NoteModel>按照Note的StartTime和EndTime存放两个Note，注意两个都在场景中时可能会发生重复
    3 单独设置一个List<>用于存放超过StageMaxTime的Hold，对于其他Note，更新场景若StartTime和EndTime之一在范围内即可，对于该列表中的Note，进行遍历（遍历或许可以优化）

# Info Panel

- [N] 可以显示部分钢琴音信息
- [ ] 提供钢琴音显示为音符名或数字的选项，对钢琴音编辑面板也有效
- [ ] 全局设置Hide Ineffective Properties：隐藏无效果属性

# Editor

- [B] 修复了撤销粘贴操作时，会更改已选中Note的Bug
- [B] 修复了Shift+S可能会直接把Note设为Time=0的Bug（吧？（实际上由于Bpm Line重写了我根本没看懂怎么实现的
- [C] 按住右键未松开时，点击左键可以直接取消下键
- [?] 单击选中Note时：
  - 选中该处重叠的所有Note
  - 选中单个Note
- [?] 允许在判定线以下放置Note
- [C] 即使背景Note靠近边界，也无法选中背景Note
- [ ] 提供背景Note的编辑

- [C] 钢琴音编辑面板不再阻止其他操作
  - [N] 钢琴音编辑面板提供音高数值(0-127)直接输入的功能
  - [C] 选择新Note之后将自动保存钢琴音更改
  - [?] 试播放钢琴音时，是否应用Stage的音量设置？
    - 如果不应用，是否需要添加另一个单独的音量设置？

- [ ] 快捷键P：切换音符钢琴音状态
  - 若空音，添加一个钢琴音(音高C4/72，音量0)
  - 若有钢琴音，删除0音量钢琴音，将非0音量钢琴音移至背景（这项需要钢琴音编辑的支持，不然移了就回不来了）


# Player Settings

- [ ] Basic Commands移至工具栏
  - [ ] View菜单中提供工具栏的开关

- [N] 允许手动输入音乐速度
- [N] 添加了Half和Reset的快捷音乐速度调整
- [N] 加入上隐
- [C] 取消了Show Links对Curve显示效果的开关，现在若Curve存在将始终显示

- [N] 快捷键Num Enter：播放/暂停音乐

- [ ] 线性渐变BPM
- [N] 现在一个BPM段落的起止拍线为强调为蓝色
- [B] 修复了部分情况bpm编辑时End处拍线不能正常添加的Bug

- [ ] 谱面连接功能移至菜单栏

# Note Placement

- [C] 简化了Vertical Grid的设置
  - [ ] 在设置中恢复旧版设置方式
- [B] 修复了设置纵格线>25时，重设格线有残留显示的Bug（Magic number打咩
- [C] 当横格线设置为0时，更改“吸附到格线”为有效。
- [C] 拆分了Snap To Grid，现在可以分别设置是否吸附到横纵格线
- [C] 关闭纵格线Border时，不再吸附到场景边界
- [C] 在两个bpm段落衔接时，最后一拍的子拍线的位置将不再按照与下一个bpm段落的起始时间的距离平分。
  - [?] 在设置中恢复？

- [ ] 按横格线间距填充Curve
- [ ] 提供是否按Curve变化Size的开关

# Settings

- [N] 允许设置滚轮灵敏度为负，效果为滚轮反向
- [ ] AutoSaveAndJson的json保存到同目录的文件夹ProjectName_$autosave中

- [ ] About页设计分为标题、左栏、正文三部分
  - 内容为
<About>
  <HCl>
  <NachtgeistW>
<Update History>
  <...>
<Tutorial>无子界面，左栏不显示
  - [?] 盐酸把About里的Deemo's Note Memory名字打错了.jpg
